<hpc-composer #composer>
    <div menu style="display: flex">
      <button (click)="interactionService.save('interaction-data')">Save</button>
      <button>Save As</button>
      <button style="margin-right: 10px" (click)="interactionService.load('interaction-data')">Reload</button>
      <button [disabled]="!interactionService.hasSelectedElements" (click)="interactionService.deleteSelectedElements()">Delete Selected</button>
      <button (click)="interactionService.deleteAll()">Delete All</button>
      <button [disabled]="!interactionService.canSelectElements" (click)="interactionService.selectAll()">Select All</button>
      <button [disabled]="!interactionService.hasSelectedElements" (click)="interactionService.unSelectAll()">Unselect All</button>
      <label style="display: flex; align-items: center; margin-left:20px">
        Zoom:
        <input #zoom type=range min="0.25" max="2" step="0.05" [value]="composer.zoom" (change)="composer.zoom = $event.target.value" style="margin-left: 5px" >
        <span>{{(zoom.value*100).toFixed()}}%</span>
      </label>
      <div style="display: flex; align-items: center; margin-left:20px">Theme:
          <hpc-combo-box style="margin-left: 5px" [itemsPanelTemplate]="itemsPanelTemplate" [itemTemplate]="themeItemTemplate" [displayMemberPath]="'name'" [itemsSource]="themeService.themes" [(selectedItem)]="themeService.activeTheme"></hpc-combo-box>
      </div>
      <button style="margin-left: auto" (click)="composer.preview()" >Preview</button>
    </div>
</hpc-composer>

<ng-template #themeItemTemplate let-item >
  <div class="hpc-stack-h hpc-vc theme-template">
     <div class="theme-color" [style.backgroundColor]="item.primaryBg"></div>
     <div>{{item.name}}</div>
  </div>
</ng-template>

<ng-template #itemsPanelTemplate let-listItemsTemplate>
   <div style="display: grid; grid-template-columns: auto auto auto; grid-column-gap: 50px; padding:15px">
      <div class="hpc-stack-h hpc-vc" style="grid-column: 1 / 4; margin-bottom: 20px">Custom Primary Color
         <hpc-color-combo-box style="margin-left: 5px" [selectedColor]="themeService.customTheme.primaryBg"
          (selectedColorChange)="themeService.updateCustomTheme({primaryBg: $event})"></hpc-color-combo-box>
      </div>
      <ng-container *ngTemplateOutlet="listItemsTemplate"></ng-container>
   </div>
</ng-template>
